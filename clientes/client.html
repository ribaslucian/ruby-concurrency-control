<html>

    <head>
        <title>Cliente de Pacotes</title>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    </head>

    <body
        ng-app="App"
        ng-controller="PackagesController"
        ng-init="
            package.client_id = 'lucian';
            package.city_destiny = 'gp';
            package.date_departure = '01/01/2020';
            package.date_return = '02/01/2020';
            package.people = 2;
            package.max_price = 74.23;
            package.status = 'Pendente';
            packages_list();
        ">

        <br/>

        <div class="container">

            <h1>
                Cliente
            </h1>

            <hr/>

            <div class="row">
                <div class="col-3" style="border-right: 1px solid #eee;">
                    <div class="form-group">
                        <label>Nome do Cliente:</label>
                        <input type="text" class="form-control" ng-model="package.client_id" />
                    </div>

                    <div class="form-group">
                        <label>Cidade Destino:</label>
                        <input type="text" class="form-control" ng-model="package.city_destiny" />
                    </div>

                    <div class="form-group">
                        <label>Número de Pessoas:</label>
                        <input type="text" class="form-control" ng-model="package.people" />
                    </div>

                    <div class="form-group">
                        <label>Data de Ida:</label>
                        <input type="text" class="form-control" ng-model="package.date_departure" />
                    </div>

                    <div class="form-group">
                        <label>Data de Volta:</label>
                        <input type="text" class="form-control" ng-model="package.date_return" />
                    </div>

                    <hr/>

                    <button type="submit" class="btn btn-primary btn-block" ng-click="package_register()">
                        Cadastrar
                    </button>

                    <br/>
                    <br/>
                </div>

                <div class="col-9">

                    <div class="form-row">
                        <div class="form-group col-md-3">
                            <label>ID do Pacote:</label>
                            <input type="text" class="form-control" ng-model="package.package_id">
                        </div>

                        <div class="form-group col-md-3">

                            <div style="margin-top: 31px;">
                                <button class="btn btn-danger mb-2" ng-click="package_cancel()">
                                    Cancelar
                                </button>

                                <button class="btn btn-primary mb-2" ng-click="package_pay()">
                                    Comprar
                                </button>
                            </div>
                        </div>

                    </div>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Cliente ID</th>
                                <th>Pacote ID</th>
                                <th>Cidade Destino</th>
                                <th>Data de Ida</th>
                                <th>Data de Volta</th>
                                <th>Preço Máximo</th>
                                <th>Status</th>
                            </tr>
                        </thead>

                        <tbody  ng-repeat="(client_id, client_packages) in clients_packages">
                            <tr ng-repeat="(package_id, p) in client_packages">
                                <td>{{client_id}}</td>
                                <td>{{package_id}}</td>
                                <td>{{p.city_destiny}}</td>
                                <td>{{p.date_departure}}</td>
                                <td>{{p.date_return}}</td>
                                <td>{{p.max_price}}</td>
                                <td>{{p.status}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <br/>
        <br/>

        <script type="text/javascript" src="angular/angular.min.js"></script>
        <script type="text/javascript" src="angular/application.js"></script>
    </body>
</html>
